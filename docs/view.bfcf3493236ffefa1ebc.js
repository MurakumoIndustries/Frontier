(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{56:function(t,e,i){},57:function(t,e,i){},58:function(t,e,i){},59:function(t,e,i){},60:function(t,e,i){},61:function(t,e,i){},62:function(t,e,i){},63:function(t,e,i){},64:function(t,e,i){},65:function(t,e,i){"use strict";i(56)},66:function(t,e,i){"use strict";i(57)},67:function(t,e,i){"use strict";i(58)},69:function(t,e,i){"use strict";i(59)},70:function(t,e,i){"use strict";i(60)},71:function(t,e,i){"use strict";i(61)},72:function(t,e,i){"use strict";i(62)},74:function(t,e,i){"use strict";i(63)},75:function(t,e,i){"use strict";i(64)},76:function(t,e,i){"use strict";i.r(e),i.d(e,"init",(function(){return Y}));var a=i(16),s=i.n(a),n=(i(7),i(1)),r=i.n(n),o=i(8),c=i(9),l=i(6),u=function(){var t=this._self._c;return t("div",{staticClass:"h-100"},[t("Nav"),this._v(" "),t("Frontier")],1)};u._withStripped=!0;var d=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar fixed-top navbar-expand-lg navbar-light bg-light"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[t._m(3),t._v(" "),e("ul",{staticClass:"navbar-nav my-0"},[e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"icon icon-version"}),t._v(" "),e("div",{staticClass:"d-inline-block",staticStyle:{"vertical-align":"top",height:"0","margin-top":"-0.325rem","padding-right":"0.25rem"}},[e("div",{attrs:{id:"server"}},[t._v(t._s(t.currentServer.name))]),t._v(" "),e("div",{staticClass:"m-0",attrs:{id:"version"}},[e("i",{directives:[{name:"show",rawName:"v-show",value:t.isUpdating,expression:"isUpdating"}],staticClass:"material-icons version-text spin"},[t._v("autorenew")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isUpdating,expression:"isUpdating"}],staticClass:"version-text"},[t._v("Updating...")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isUpdateReady,expression:"isUpdateReady"}],staticClass:"version-text",staticStyle:{"font-weight":"bold",color:"#ff5588"}},[t._v("NEW!")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!(t.isUpdating||t.isUpdateReady),expression:"!(isUpdating||isUpdateReady)"}],staticClass:"version-text"},[t._v(t._s(t.currentServer.version))])])])]),t._v(" "),e("ul",{staticClass:"dropdown-menu dropdown-menu-right"},[e("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.Ui.getText("server")))]),t._v(" "),t._l(t.allServers,(function(i){return e("a",{key:i.id,class:["dropdown-item",i.id==t.currentServer.id?"active":""],attrs:{href:"#!/server/"+i.id}},[t._v("\n                        "+t._s(i.name)+"\n                        "),e("p",{staticClass:"m-0",staticStyle:{"font-size":"0.75rem","line-height":"0.75rem"}},[t._v(t._s(i.version))])])})),t._v(" "),e("div",{staticClass:"dropdown-divider",attrs:{id:"serverDivider"}}),t._v(" "),e("h6",{staticClass:"dropdown-header"},[t._v(t._s(t.Ui.getText("externallink")))]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"https://colopl.co.jp/alicegearaegis/",target:"_blank",rel:"noopener noreferrer"}},[e("span",{staticClass:"mr-4"},[t._v(t._s(t.Ui.getText("officalsite")))]),t._v(" "),e("i",{staticClass:"material-icons text-black-50",staticStyle:{position:"absolute",right:"1rem"}},[t._v("open_in_new")])]),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"https://alice.colopl.jp/news/show",target:"_blank",rel:"noopener noreferrer"}},[e("span",{staticClass:"mr-4"},[t._v(t._s(t.Ui.getText("officalannouncement")))]),t._v(" "),e("i",{staticClass:"material-icons text-black-50",staticStyle:{position:"absolute",right:"1rem"}},[t._v("open_in_new")])]),t._v(" "),e("div",{staticClass:"dropdown-divider"}),t._v(" "),e("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.toggleCache()}}},[t._v(t._s(t.Ui.getText(t.cacheDisabled?"enablecache":"disablecache")))])],2)]),t._v(" "),e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"material-icons"},[t._v("language")]),t._v(" "),e("span",{attrs:{id:"currentLang"}},[t._v(t._s(t.langText))])]),t._v(" "),e("ul",{staticClass:"dropdown-menu dropdown-menu-right"},t._l(t.Ui.supportedLang,(function(i){return e("a",{key:i.key,staticClass:"dropdown-item",attrs:{href:"#!/lang/"+i.key},on:{click:function(e){t.langText=i.text}}},[t._v(t._s(i.text))])})),0)])])])])};d._withStripped=!0;var m=i(2),v={data:function(){return{langText:l.a.getLangText(),isUpdating:!1,isUpdateReady:!1}},created:function(){var t=this;c.a.$on("new-version-updating",(function(){console.log("new-version-updating"),t.isUpdating=!0,t.isUpdateReady=!1})),c.a.$on("new-version-update-ready",(function(){console.log("new-version-update-ready"),t.isUpdating=!1,t.isUpdateReady=!0}))},methods:{toggleCache:function(){if(this.cacheDisabled)return localStorage.MI_Frontier_Disable_Cache=!1,void location.reload();confirm(l.a.getText("disablecachewarning"))&&"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then((function(t){t&&t.unregister().then((function(t){localStorage.MI_Frontier_Disable_Cache=!0,location.reload()}))}))}},computed:{currentServer:function(){return m.Data.getCurrentServer()},allServers:function(){return m.Data.getAllServers()},cacheDisabled:function(){return"true"===localStorage.MI_Frontier_Disable_Cache}}},p=(i(65),i(55)),h=Object(p.a)(v,d,[function(){var t=this._self._c;return t("a",{staticClass:"pr-2",attrs:{href:"../"}},[t("i",{staticClass:"icon icon-murakumo"})])},function(){var t=this,e=t._self._c;return e("a",{staticClass:"navbar-brand",attrs:{title:"Murakumo Industries Frontier Map Viewer",href:"#"}},[e("span",{staticClass:"d-none d-md-inline-block"},[t._v("Murakumo Industries")]),t._v(" "),e("span",{staticClass:"d-md-none"},[t._v("MI")]),t._v(" "),e("span",[t._v("Frontier")]),t._v(" "),e("span",{staticClass:"d-none d-sm-inline-block"},[t._v("Map Viewer")]),t._v(" "),e("sup",[t._v("Î±")])])},function(){var t=this._self._c;return t("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[t("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this._self._c;return t("ul",{staticClass:"navbar-nav mr-auto"},[t("li",{staticClass:"nav-item"})])}],!1,null,"2d763d70",null).exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container-fluid main-container h-100"},[e("div",{staticClass:"row h-100"},[e("div",{staticClass:"col-12 col-md-4 col-xl-3 p-0 sidebar"},[e("MapInfo",{attrs:{isShowSidebar:t.isShowSidebar,mapName:t.mapName,canGiveUp:t.map.canGiveUp,giveUpCost:t.map.giveUpCost,totalDanger:t.total.danger,totalRare:t.total.rare,totalNormal:t.total.normal,totalEndless:t.total.endless,totalGachaPoint:t.total.gachaPoint,totalBattery:t.total.battery,totalGold:t.total.gold,totalEnergy:t.total.energy}}),t._v(" "),e("MapList",{attrs:{isShowSidebar:t.isShowSidebar}})],1),t._v(" "),e("div",{staticClass:"col-12 col-md-8 col-xl-9 p-0 h-100"},[t.map.id?e("Map",{attrs:{map:t.map}}):t._e()],1)])])};g._withStripped=!0;var f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-info-container p-2"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!!t.mapName,expression:"!!mapName"}]},[e("div",[e("span",{staticClass:"map-name"},[t._v(t._s(t.mapName))]),t._v(" "),e("button",{staticClass:"d-md-none sidebar-toggle py-0 btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.toggleSidebar()}}},[e("i",{staticClass:"material-icons"},[t._v("menu")])])]),t._v(" "),e("Collapse",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSidebar,expression:"isShowSidebar"}],staticClass:"map-info sidebar-collapsable"},[t.canGiveUp?e("div",{staticClass:"d-flex"},[t._v("\n                    "+t._s(t.Ui.getText("giveup"))+"\n                    "),e("i",{staticClass:"icon icon-gold"}),t._v("\n                    "+t._s(t.giveUpCost)+"\n                ")]):e("div",{staticClass:"d-flex"},[t._v(t._s(t.Ui.getText("cannotgiveup")))]),t._v(" "),e("div",{staticClass:"d-flex"},[t._v("\n                    "+t._s(t.Ui.getText("total"))+"\n                    "),e("span",{staticClass:"icon-hex-tile"},[e("img",{attrs:{src:t.hexDanger}})]),t._v(" "),e("span",[t._v(t._s(t.totalDanger))]),t._v(" "),e("span",{staticClass:"icon-hex-tile"},[e("img",{attrs:{src:t.hexRare}})]),t._v(" "),e("span",[t._v(t._s(t.totalRare))]),t._v(" "),e("span",{staticClass:"icon-hex-tile"},[e("img",{attrs:{src:t.hexNormal}})]),t._v(" "),e("span",[t._v(t._s(t.totalNormal))]),t._v(" "),t.totalEndless>0?e("span",[t._v("(+"+t._s(t.totalEndless)+")")]):t._e()]),t._v(" "),e("div",{staticClass:"d-flex"},[e("i",{staticClass:"icon icon-gacha-point"}),t._v(" "),e("span",[t._v(t._s(t.totalGachaPoint))]),t._v(" "),e("i",{staticClass:"icon icon-battery"}),t._v(" "),e("span",[t._v(t._s(t.totalBattery))]),t._v(" "),e("i",{staticClass:"icon icon-gold"}),t._v(" "),e("span",[t._v(t._s(t.totalGold))]),t._v(" "),e("i",{staticClass:"icon icon-energy"}),t._v(" "),e("span",[t._v(t._s(t.totalEnergy))])])])])],1)])};f._withStripped=!0;var x=function(){return(0,this._self._c)("transition",{on:{enter:this.enter,"after-enter":this.afterEnter,leave:this.leave,"after-leave":this.afterLeave}},[this._t("default")],2)};x._withStripped=!0;var C={methods:{enter(t){t.style.height="auto";let e=window.getComputedStyle(t).height;t.style.height="0px",t.offsetHeight,t.style.height=e},afterEnter(t){t.style.height=null},leave(t){t.style.height=window.getComputedStyle(t).height,t.offsetHeight,t.style.height="0px"},afterLeave(t){t.style.height=null}}},w=(i(66),Object(p.a)(C,x,[],!1,null,null,null).exports),b={props:{isShowSidebar:Boolean,mapName:String,canGiveUp:Boolean,giveUpCost:Number,totalDanger:Number,totalRare:Number,totalNormal:Number,totalEndless:Number,totalGachaPoint:Number,totalBattery:Number,totalGold:Number,totalEnergy:Number},data:function(){return{hexNormal:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIGZpbGw9IiM4Y2QiPjwvcG9seWdvbj4NCjwvc3ZnPg==",hexRare:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIGZpbGw9IiNmZjAiPjwvcG9seWdvbj4NCjwvc3ZnPg==",hexDanger:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIGZpbGw9IiNmMDAiPjwvcG9seWdvbj4NCjwvc3ZnPg=="}},methods:{toggleSidebar:function(){c.a.$emit("toggle-sidebar")}},components:{Collapse:w}},y=(i(67),Object(p.a)(b,f,[],!1,null,"6e967254",null).exports),I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"map-list"},[e("Collapse",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSidebar,expression:"isShowSidebar"}],staticClass:"map-list-search p-2 sidebar-collapsable"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchNumber,expression:"searchNumber",modifiers:{trim:!0}}],staticClass:"form-control w-50",attrs:{type:"number",min:"0",step:"1",placeholder:t.Ui.getText("searchhexcount")},domProps:{value:t.searchNumber},on:{input:function(e){e.target.composing||(t.searchNumber=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchText,expression:"searchText",modifiers:{trim:!0}}],staticClass:"form-control w-50",attrs:{type:"text",placeholder:t.Ui.getText("searchmapname")},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),t._v(" "),e("Collapse",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowSidebar,expression:"isShowSidebar"}],staticClass:"map-list-container pl-2 sidebar-collapsable"},[e("ul",{staticClass:"list-unstyled",attrs:{id:"map-list-scroller"}},t._l(t.maplist,(function(i){return e("li",{key:i.id},[i.name?e("h5",[e("a",{attrs:{href:"#"+i.id},on:{click:function(t){t.preventDefault(),i.isShow=!i.isShow}}},[t._v(t._s(t.Ui.getText(i.name)))])]):t._e(),t._v(" "),e("Collapse",[i.name?e("ul",{directives:[{name:"show",rawName:"v-show",value:t.isForceShowAllGroup||i.isShow,expression:"isForceShowAllGroup||group.isShow"}],staticClass:"list-unstyled collapsable"},t._l(i.maps,(function(i){return e("li",{directives:[{name:"show",rawName:"v-show",value:t.isShow(i),expression:"isShow(map)"}],key:i.id,class:[{active:t.activeMapId==i.id},{"map-list-divider":!t.isForceShowAllGroup&&t.dividerList.indexOf(i.id)>=0}],attrs:{id:"map"+i.id}},[e("a",{attrs:{"data-map-id-string":i.idString,"data-map-id":i.id,href:"#!/map/"+i.id,title:i.count+"|"+i.name}},[e("span",{staticClass:"hex-info-count"},[t._v(t._s(i.count))]),t._v(" "),e("span",[t._v(t._s(i.name))])])])})),0):t._e()])],1)})),0)])])],1)};I._withStripped=!0;var S=i(68),N=i.n(S),A={created:function(){var t=this;c.a.$on("set-active-map",(function(e){t.setActiveMap(e)}));for(var e=m.Data.getAll("maplist"),i=0;i<e.length;i++)switch(i){case 2:e[i].maps=_.orderBy(e[i].maps,[function(t){return t.idString.length},"idString"]);break;case 3:e[i].maps=_.orderBy(e[i].maps,[function(t){return"ãªãã¥ã¤å®å"==t.name||"éé­å®å"==t.name},function(t){return t.idString.indexOf("_re")},function(t){return t.isHard},function(t){return t.idString.length},"idString"]);break;default:e[i].maps=_.orderBy(e[i].maps,"idString")}t.maplist=e},props:{isShowSidebar:Boolean},data:function(){return{searchNumber:"",searchText:"",maplist:[],activeMapId:""}},methods:{isShow:function(t){return!this.searchNumber&&!this.searchText||(!!(this.searchNumber&&String(t.count).indexOf(this.searchNumber)>=0)||!!(this.searchText&&String(t.name).indexOf(this.searchText)>=0))},setActiveMap:function(t){console.log("setActiveMap"),this.searchNumber="",this.searchText="",this.activeMapId=t;var e=0;_.each(this.maplist,(function(i,a){var s=i.isShow;i.isShow=!1,_.some(i.maps,(function(e){return e.id==t}))&&(i.isShow=!0),i.isShow!=s&&(e=300)})),this.$nextTick((function(){window.setTimeout((function(){N.a.scrollTo("#map"+t,{container:"#map-list-scroller"})}),e)}))}},computed:{dividerList:function(){return[3074294833,3196602394,1795557279,3331758729,241529832,1247514767,3859376046,79899309,3743323759,379346512,3787645706]},isForceShowAllGroup:function(){return this.searchNumber||this.searchText}},components:{Collapse:w}},M=(i(69),Object(p.a)(A,I,[],!1,null,"a0666292",null).exports),k=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"main"}},[e("div",{staticClass:"hex-table-container"},[e("table",{staticClass:"hex-table"},t._l(t.Yrange,(function(i){return e("tr",{key:i},t._l(t.Xrange,(function(a){return e("td",{key:a},[t.hex(a,i)?e("Hex",{attrs:{hex:t.hex(a,i),map:t.map}}):t._e()],1)})),0)})),0)]),t._v(" "),e("HexInfo"),t._v(" "),e("HexPopper")],1)};k._withStripped=!0;var j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hex",on:{click:function(e){return t.showHexInfo()}}},[e("div",{staticClass:"hex-tile"},[e("img",{attrs:{src:t.hexSvg}})]),t._v(" "),e("a",{staticClass:"hex-content",attrs:{"data-toggle":"popover",tabindex:"0"}},[e("div",{staticClass:"hex-background"},[120==t.hex.termType?e("i",{staticClass:"icon icon-start"}):t._e(),t._v(" "),130==t.hex.termType?e("i",{staticClass:"material-icons",staticStyle:{"font-size":"3.5rem"}},[t._v("flag")]):t._e()]),t._v(" "),e("div",{staticClass:"d-flex justify-content-center align-items-center"},[40==t.hex.hexType?e("i",{staticClass:"material-icons"},[t._v("chat")]):t._e(),t._v(" "),41==t.hex.hexType?e("i",{staticClass:"material-icons"},[t._v("videogame_asset")]):t._e(),t._v(" "),50==t.hex.hexType?e("i",{staticClass:"icon icon-chest"}):t._e(),t._v(" "),60==t.hex.hexType?e("i",{staticClass:"icon icon-2x icon-PowUpEne"}):t._e(),t._v(" "),61==t.hex.hexType?e("i",{staticClass:"icon icon-2x icon-PowUpAct"}):t._e(),t._v(" "),62==t.hex.hexType?e("i",{staticClass:"icon icon-2x icon-PowUpRwd"}):t._e(),t._v(" "),70==t.hex.hexType?e("i",{staticClass:"icon icon-2x icon-PowDwnEne"}):t._e(),t._v(" "),71==t.hex.hexType?e("i",{staticClass:"icon icon-2x icon-PowDwnAct"}):t._e(),t._v(" "),72==t.hex.hexType?e("i",{staticClass:"icon icon-2x icon-PowDwnRwd"}):t._e(),t._v(" "),90==t.hex.hexType||91==t.hex.hexType||92==t.hex.hexType||93==t.hex.hexType?e("i",{staticClass:"icon icon-endless"}):t._e(),t._v(" "),200==t.hex.hexType?e("i",{staticClass:"material-icons",staticStyle:{"font-size":"2.5rem",color:"#ff9999"}},[t._v("favorite")]):t._e(),t._v(" "),t._l(t.hex.itemHintIndexes,(function(t){return e("i",{key:t,class:["icon","icon-key","icon-key-01-"+"00".substring(0,2-String(t+1).length)+String(t+1)]})})),t._v(" "),t.requireMapItems.length?e("i",{staticClass:"material-icons"},[t._v("lock_outline")]):t._e()],2),t._v(" "),e("div",{staticClass:"d-flex justify-content-center align-items-center"},[t._l(t.rewards,(function(i){return e("div",{key:i.id,staticClass:"d-inline-flex"},[50==t.hex.hexType&&"ticket_010_01"==i.id?e("div",{staticClass:"d-inline-flex"},[e("i",{staticClass:"icon icon-battery"}),t._v("\n                    "+t._s(i.count)+"\n                ")]):t._e(),t._v(" "),50==t.hex.hexType&&"gold"==i.id?e("div",{staticClass:"d-inline-flex"},[e("i",{staticClass:"icon icon-gold"}),t._v("\n                    "+t._s(i.count)+"\n                ")]):t._e(),t._v(" "),50==t.hex.hexType&&"energy"==i.id?e("div",{staticClass:"d-inline-flex"},[e("i",{staticClass:"icon icon-energy"}),t._v("\n                    "+t._s(i.count)+"\n                ")]):t._e(),t._v(" "),"gacha_point"==i.id?e("div",{staticClass:"d-inline-flex"},[e("i",{staticClass:"icon icon-gacha-point"}),t._v("\n                    "+t._s(i.count)+"\n                ")]):t._e()])})),t._v(" "),t._l(t.requireMapItems,(function(i){return e("div",{key:i.index,staticClass:"d-inline-flex"},[e("i",{class:["icon","icon-key","icon-key-01-"+"00".substring(0,2-String(i.index+1).length)+String(i.index+1)]}),t._v("\n                "+t._s(i.count)+"\n            ")])}))],2),t._v(" "),t.areaCount>0?e("div",{staticClass:"hex-area-count"},[t._v(t._s(t.areaCount))]):t._e(),t._v(" "),e("div",{staticClass:"hex-is-hard"},[t.isHighDifficulty?e("i",{staticClass:"material-icons"},[t._v("warning")]):t._e(),t._v(" "),t.isNoSupport?e("i",{staticClass:"material-icons"},[t._v("person_add_disabled")]):t._e()]),t._v(" "),t.hex.hitokoeId>0?e("div",{staticClass:"hex-hitokoe"},[e("i",{staticClass:"material-icons"},[t._v("question_answer")])]):t._e()])])};j._withStripped=!0;var T="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIxcHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9IiNmZmYiPjwvcG9seWdvbj4NCjwvc3ZnPg==",D={props:{hex:Object,map:Object},mounted:function(){var t=this,e=t.$el.getElementsByClassName("hex-content")[0];e.addEventListener("mouseenter",(function(){c.a.$emit("show-popover",e,t.hex,t.map)})),e.addEventListener("mouseleave",(function(){c.a.$emit("hide-popover")}))},methods:{showHexInfo:function(){c.a.$emit("show-hex-info",this.hex,this.map)}},computed:{hexSvg:function(){switch(this.hex.hexType){case 10:case 90:case 91:return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIHN0cm9rZT0iIzg4Y2NkZCIgc3Ryb2tlLXdpZHRoPSIzcHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9IiNmZmYiPjwvcG9seWdvbj4NCjwvc3ZnPg==";case 20:case 93:return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIHN0cm9rZT0iI2ZmMjI0NCIgc3Ryb2tlLXdpZHRoPSI2cHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1hbGlnbm1lbnQ9Imluc2lkZSIgZmlsbD0iI2ZmZiI+PC9wb2x5Z29uPg0KPC9zdmc+";case 30:case 92:return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIHN0cm9rZT0iI2ZmZmYwMCIgc3Ryb2tlLXdpZHRoPSI2cHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9IiNmZmYiPjwvcG9seWdvbj4NCjwvc3ZnPg==";case 40:return T;case 50:return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIxcHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9IiNmZmYiPjwvcG9seWdvbj4NCiAgICA8ZWxsaXBzZSByeD0iOTAiIHJ5PSI3MCIgY3g9IjEyMCIgY3k9IjgwIiBzdHJva2U9IiNjY2MiIHN0cm9rZS13aWR0aD0iMXB4IiBmaWxsPSIjZmZmIi8+DQo8L3N2Zz4=";case 60:case 61:case 62:case 70:case 71:case 72:return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwLC0xMCwyNjAsMTgwIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0Ij4NCiAgICA8cG9seWdvbiBwb2ludHM9IjAsODAgNjQsMCAxNzYsMCAyNDAsODAgMTc2LDE2MCA2NCwxNjAiIHN0cm9rZT0iI2NjYyIgc3Ryb2tlLXdpZHRoPSIxcHgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9IiNmZmYiPjwvcG9seWdvbj4NCjwvc3ZnPg==";default:return T}},zakoAttr:function(){return m.Data.get("attrset",this.hex.zakoAttr)||{}},bossAttr:function(){return m.Data.get("attrset",this.hex.bossAttr)||{}},stage:function(){return m.Data.get("stage",this.hex.questId)||{}},rewards:function(){var t=[];return _.each(this.hex.rewards,(function(e,i){e.id&&t.push(_.extend(e,m.Data.get("items",e.id)))})),t},areaCount:function(){return(this.stage.areaList||[]).length},isHighDifficulty:function(){return 1==this.stage.highDifficulty},isNoSupport:function(){return[10,20,30,90].indexOf(this.hex.hexType)>=0&&0==this.hex.supportType},requireMapItems:function(){var t=[];return _.each(this.hex.requireMapItems,(function(e,i){e&&t.push({index:i,count:e})})),t}}},Z=(i(70),Object(p.a)(D,j,[],!1,null,"20357d14",null).exports),H=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"fade"}},[t.hex.id&&t.isShow?e("div",{staticClass:"hex-info",staticStyle:{"overflow-y":"auto"},attrs:{"data-id":t.hex.id},on:{click:t.hide}},[e("ul",{staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[e("div",{staticClass:"item-container"},[e("span",[t._v(t._s(t.hex.name))]),t._v(" "),t.hex.recomLv>0?e("span",{staticClass:"font-weight-light pl-3",staticStyle:{color:"#fffb"}},[t._v(t._s(t.Ui.getText("recomLv")+t.hex.recomLv))]):t._e()]),t._v(" "),e("div",{staticClass:"item-container"},[t.isHighDifficulty?e("span",{staticClass:"px-1"},[e("i",{staticClass:"material-icons",staticStyle:{color:"red"}},[t._v("warning")]),t._v(" "),e("span",[t._v(t._s(t.Ui.getText("highdifficulty")))])]):t._e(),t._v(" "),t.isNoSupport?e("span",{staticClass:"px-1"},[e("i",{staticClass:"material-icons",staticStyle:{color:"red"}},[t._v("person_add_disabled")]),t._v(" "),e("span",[t._v(t._s(t.Ui.getText("nosupport")))])]):t._e()])]),t._v(" "),t.hex.questId?e("li",{staticClass:"list-group-item",staticStyle:{"white-space":"nowrap",overflow:"auto"}},t._l(t.stage.areaList,(function(i,a){return e("div",{key:i.id,staticClass:"area-container"},[e("div",{staticClass:"stage-container",on:{click:function(e){return e.stopPropagation(),t.toggleExtraInfo("Area_"+i.id)}}},[e("div",{staticClass:"stage-label"},[t._v("\n                            AREA\n                            "+t._s(a+1)+"\n                        ")]),t._v(" "),e("div",{staticClass:"parallelogram"},[e("img",{attrs:{src:"../img/quest/"+(i.icon||"stg2_999_01")+".png"}}),t._v(" "),e("div",{class:["attr-subscript","attr-"+t.convertAttr2nd(t.zakoAttr.weakAttr||i.weakAttr)]})]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentExtraInfoID=="Area_"+i.id,expression:"currentExtraInfoID=='Area_'+area.id"}],staticClass:"stage-label-list"},[e("div",{staticClass:"stage-bgm-list"},t._l(i.bgmList,(function(i,a){return e("div",{key:i+a,staticClass:"stage-label",style:{"margin-left":.25*(a+1)+"rem"}},[e("span",[t._v(t._s(i))])])})),0),t._v(" "),e("div",{staticClass:"stage-enemy-list"},t._l(t.enemys(i),(function(i,a){return e("div",{key:i.id,staticClass:"stage-label",style:{"margin-left":.25*(a+1)+"rem"}},[e("span",[t._v(t._s(i.name))])])})),0)])])],1),t._v(" "),t._l(t.enemysWithIcon(i),(function(i,a){return e("div",{key:i.id,staticClass:"stage-container enemy",on:{click:function(e){return e.stopPropagation(),t.toggleExtraInfo("Enemy_"+i.id)}}},[e("div",{staticClass:"parallelogram"},[e("img",{attrs:{src:"../img/quest/"+(i.icon||"ene2_800_01")+".png"}}),t._v(" "),e("div",{class:["attr-subscript","attr-"+t.convertAttr2nd(i.type>10?t.bossAttr.weakAttr||i.weakAttr:255)]}),t._v(" "),i.count>1?e("span",{staticClass:"enemy-count"},[t._v(t._s(i.count))]):t._e()]),t._v(" "),e("div",{class:["stage-label",{"stage-label-odd":a%2!=0}]},[t._v(t._s(i.name))]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentExtraInfoID=="Enemy_"+i.id,expression:"currentExtraInfoID=='Enemy_'+enemy.id"}],class:["boss-hp-bar","stage-label",{"stage-label-odd":a%2==0}]},[e("div",[t._v("LV."+t._s(i.lv))]),t._v(" "),e("div",{staticClass:"progress"},[e("div",{staticClass:"progress-bar bg-warning",staticStyle:{width:"100%"},attrs:{role:"progressbar"}},[t._v(t._s(t.calcRising(i.lv,i.hp[0],i.hp[1])))])]),t._v(" "),e("div",{staticStyle:{"line-height":"0"}},t._l(t.countHpExtra(t.calcRising(i.lv,i.hp[0],i.hp[1])),(function(t){return e("span",{key:t,staticClass:"boss-hp-bar-extra bg-warning"})})),0),t._v(" "),e("div",{staticStyle:{position:"relative"}},[e("span",[t._v("ATK "+t._s(t.calcRising(i.lv,i.attack[0],i.attack[1])))]),t._v(" "),e("span",{class:["attr-text","attr-"+t.convertAttr2nd(t.bossAttr.attribute2nd||i.attribute2nd)]},[t._v(t._s(t.calcRising(i.lv,i.attrAttack[0],i.attrAttack[1])))]),t._v(" "),e("span",{staticStyle:{position:"absolute",right:"0"}},[t._v("DEF "+t._s(t.calcRising(i.lv,i.defence[0],i.defence[1])))])])])])],1)}))],2)})),0):t._e(),t._v(" "),t.hex.canGiveUp&&t.hex.giveUpCost>0?e("li",{staticClass:"list-group-item"},[e("div",{staticClass:"item-container"},[e("span",[t._v(t._s(t.Ui.getText("subcontract")))]),t._v(" "),e("i",{staticClass:"icon icon-gold"}),t._v(" "),e("span",[t._v(t._s(t.hex.giveUpCost))])])]):t._e(),t._v(" "),t.hex.lockBuffs&&t.hex.lockBuffs.length?e("li",{staticClass:"list-group-item"},t._l(t.lockBuffs,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/quest/"+i.icon+".png"}}),t._v(" "),e("span",{staticClass:"item-count"},[t._v(t._s(i.value))])])})),0):t._e(),t._v(" "),t.hex.unlockBuffs&&t.hex.unlockBuffs.length?e("li",{staticClass:"list-group-item"},t._l(t.unlockBuffs,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/quest/"+i.icon+".png"}}),t._v(" "),e("span",{staticClass:"item-count"},[t._v(t._s(i.value))])])})),0):t._e(),t._v(" "),t.hex.clearBuffs&&t.hex.clearBuffs.length?e("li",{staticClass:"list-group-item"},t._l(t.clearBuffs,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/quest/"+i.icon+".png"}}),t._v(" "),e("span",{staticClass:"item-count"},[t._v(t._s(i.value))])])})),0):t._e(),t._v(" "),t.requireMapItems.length?e("li",{staticClass:"list-group-item"},[e("i",{staticClass:"material-icons",staticStyle:{margin:"0.75rem 0"}},[t._v("lock_outline")]),t._v(" "),t._l(t.requireMapItems,(function(i){return e("div",{key:i.index,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/item/"+(t.map.itemList[i.index].icon||"itm2_04_000_01")+".png",title:t.map.itemList[i.index].name}}),t._v(" "),i.count>1?e("span",{staticClass:"item-count"},[t._v(t._s(i.count))]):t._e()])}))],2):t._e(),t._v(" "),t.hex.itemHintIndexes&&t.hex.itemHintIndexes.length?e("li",{staticClass:"list-group-item"},[e("i",{staticClass:"material-icons",staticStyle:{margin:"0.75rem 0"}},[t._v("vpn_key")]),t._v(" "),t._l(t.hex.itemHintIndexes,(function(i){return e("div",{key:i,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/item/"+(t.map.itemList[i].icon||"itm2_04_000_01")+".png",title:t.map.itemList[i].name}})])}))],2):t._e(),t._v(" "),e("li",{staticClass:"list-group-item"},t._l(t.rewards,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:t.rewardIconSrc(i.icon),title:i.name}}),t._v(" "),i.count>1?e("span",{staticClass:"item-count"},[t._v(t._s(i.count))]):t._e()])})),0),t._v(" "),t.hex.hitokoeId?e("li",{staticClass:"list-group-item"},t._l(t.hitokoeList,(function(i){return e("div",{key:i.id,staticClass:"hitokoe-container media mb-2"},[e("img",{staticClass:"icon icon-hitokoe mr-2",attrs:{src:t.hitokoeIconSrc(i.icon)}}),t._v(" "),e("div",{staticClass:"media-body"},t._l(i.message,(function(i,a){return e("p",{key:a+i,staticClass:"mb-2",domProps:{innerHTML:t._s(t.Ui.renderDesc(i))}})})),0)])})),0):t._e()])]):t._e()])};H._withStripped=!0;var L={data:function(){return{isShow:!1,hex:{},map:{},currentExtraInfoID:""}},created:function(){var t=this;c.a.$on("show-hex-info",(function(e,i){c.a.$emit("disable-popover"),t.hex=e,t.map=i,t.isShow=!0}))},computed:{zakoAttr:function(){return m.Data.get("attrset",this.hex.zakoAttr)||{}},bossAttr:function(){return m.Data.get("attrset",this.hex.bossAttr)||{}},stage:function(){return m.Data.get("stage",this.hex.questId)||{}},lockBuffs:function(){return _.map(this.hex.lockBuffs||[],(function(t){return m.Data.get("buff",t)}))},unlockBuffs:function(){return _.map(this.hex.unlockBuffs||[],(function(t){return m.Data.get("buff",t)}))},clearBuffs:function(){return _.map(this.hex.clearBuffs||[],(function(t){return m.Data.get("buff",t)}))},rewards:function(){return _.map(this.hex.rewards||[],(function(t){return _.extend(t,m.Data.get("items",t.id))}))},isHighDifficulty:function(){return 1==this.stage.highDifficulty},isNoSupport:function(){return[10,20,30,90].indexOf(this.hex.hexType)>=0&&0==this.hex.supportType},requireMapItems:function(){var t=[];return _.each(this.hex.requireMapItems||[],(function(e,i){e&&t.push({index:i,count:e})})),t},hitokoeList:function(){var t=[],e=m.Data.get("hitokoe",this.hex.hitokoeId);if(null==e)return t;for(t.push(e);e&&e.nextId;)e=m.Data.get("hitokoe",e.nextId),t.push(e);return t}},methods:{hide:function(){window.getSelection().toString().length||(this.isShow=!1,this.currentExtraInfoID="",c.a.$emit("enable-popover"))},convertAttr2nd:function(t){return m.Data.convertAttr2nd(t)},enemys:function(t){return _.map(t.enemyList,(function(t,e){return m.Data.get("enemy",e)}))},enemysWithIcon:function(t){var e=this;return _.chain(t.enemyList).map((function(i,a){var s=m.Data.get("enemybase",a);s&&e.bossAttr.weakAttr&&4!=e.bossAttr.weakAttr&&255!=e.bossAttr.weakAttr&&(a=s.frontierChangeEnemyIds[e.bossAttr.attribute2nd-5]);var n=m.Data.get("enemy",a);return n&&n.icon&&n.type>=10?(n.count=i,n.lv=Math.max(1,n.type>10?t.bossLevel+e.hex.bossLevelOffset:t.zakoLevel+e.hex.zakoLevelOffset),n):null})).compact().value()},toggleExtraInfo:function(t){window.getSelection().toString().length||(this.currentExtraInfoID==t?this.currentExtraInfoID="":this.currentExtraInfoID=t)},rewardIconSrc:function(t){return 0==t.indexOf("chr4")?"../img/chara/"+t+".png":"../img/item/"+(t||"itm2_04_000_01")+".png"},hitokoeIconSrc:function(t){return 0==t.indexOf("chr")?"../img/chara/"+t+".png":"../img/scenarioicon/"+(t||"npc1_998_01")+".png"},calcRising:function(t,e,i){return Math.round(e+t*i)},countHpExtra:function(t){for(var e=5e4,i=5e4,a=0;i<t;)i+=e+=5e4,a++;return Math.min(11,a)}}},B=(i(71),Object(p.a)(L,H,[],!1,null,"206f50b9",null).exports),U=function(){var t=this,e=t._self._c;return t.isEnable?e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"popover hex-popper bs-popover-auto",staticStyle:{"max-width":"none"}},[e("div",{staticClass:"arrow"}),t._v(" "),e("h3",{staticClass:"popover-header"},[e("span",[t._v(t._s(t.hex.name))]),t._v(" "),t.hex.recomLv>0?e("span",{staticClass:"font-weight-light float-right pl-3"},[t._v(t._s(t.Ui.getText("recomLv")+t.hex.recomLv))]):t._e()]),t._v(" "),e("div",{staticClass:"popover-body p-0 pb-1"},[e("ul",{staticClass:"list-group list-group-flush"},[t.hex.canGiveUp&&t.hex.giveUpCost>0?e("li",{staticClass:"list-group-item p-1"},[e("div",{staticClass:"item-container"},[e("span",[t._v(t._s(t.Ui.getText("subcontract")))]),t._v(" "),e("i",{staticClass:"icon icon-gold"}),t._v("\n                        "+t._s(t.hex.giveUpCost)+"\n                    ")])]):t._e(),t._v(" "),t.hex.lockBuffs&&t.hex.lockBuffs.length>0?e("li",{staticClass:"list-group-item p-1"},t._l(t.lockBuffs,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/quest/"+i.icon+".png"}}),t._v(" "),e("span",{staticClass:"item-count"},[t._v(t._s(i.value))])])})),0):t._e(),t._v(" "),t.hex.unlockBuffs&&t.hex.unlockBuffs.length?e("li",{staticClass:"list-group-item p-1"},t._l(t.unlockBuffs,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/quest/"+i.icon+".png"}}),t._v(" "),e("span",{staticClass:"item-count"},[t._v(t._s(i.value))])])})),0):t._e(),t._v(" "),t.hex.clearBuffs&&t.hex.clearBuffs.length?e("li",{staticClass:"list-group-item p-1"},t._l(t.clearBuffs,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/quest/"+i.icon+".png"}}),t._v(" "),e("span",{staticClass:"item-count"},[t._v(t._s(i.value))])])})),0):t._e(),t._v(" "),t.requireMapItems.length?e("li",{staticClass:"list-group-item p-1"},[e("i",{staticClass:"material-icons",staticStyle:{margin:"0.75rem 0"}},[t._v("lock_outline")]),t._v(" "),t._l(t.requireMapItems,(function(i){return e("div",{key:i.index,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/item/"+(t.map.itemList[i.index].icon||"itm2_04_000_01")+".png",title:t.map.itemList[i.index].name}}),t._v(" "),i.count>1?e("span",{staticClass:"item-count"},[t._v(t._s(i.count))]):t._e()])}))],2):t._e(),t._v(" "),t.hex.itemHintIndexes&&t.hex.itemHintIndexes.length?e("li",{staticClass:"list-group-item p-1"},[e("i",{staticClass:"material-icons",staticStyle:{margin:"0.75rem 0"}},[t._v("vpn_key")]),t._v(" "),t._l(t.hex.itemHintIndexes,(function(i){return e("div",{key:i,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:"../img/item/"+(t.map.itemList[i].icon||"itm2_04_000_01")+".png",title:t.map.itemList[i].name}})])}))],2):t._e(),t._v(" "),t.hex.rewards&&t.hex.rewards.length?e("li",{staticClass:"list-group-item p-1"},t._l(t.rewards,(function(i){return e("div",{key:i.id,staticClass:"item-container"},[e("img",{staticClass:"icon icon-item",attrs:{src:t.rewardIconSrc(i.icon),title:i.name}}),t._v(" "),i.count>1?e("span",{staticClass:"item-count"},[t._v(t._s(i.count))]):t._e()])})),0):t._e()])])])]):t._e()};U._withStripped=!0;var E,W=i(17),G={data:function(){return{isEnable:!0,isShow:!1,hex:{},map:{}}},mounted:function(){var t=this;c.a.$on("show-popover",(function(e,i,a){t.isShow=!0,t.hex=i,t.map=a,t.$nextTick((function(){new W.default(e,t.$el,{placement:"auto",arrow:{element:t.$el.getElementsByClassName("arrow")[0]},boundariesElement:document.getElementById("main")})}))})),c.a.$on("hide-popover",(function(){t.isShow=!1})),c.a.$on("enable-popover",(function(){t.isEnable=!0})),c.a.$on("disable-popover",(function(){t.isEnable=!1}))},computed:{lockBuffs:function(){return _.map(this.hex.lockBuffs||[],(function(t){return m.Data.get("buff",t)}))},unlockBuffs:function(){return _.map(this.hex.unlockBuffs||[],(function(t){return m.Data.get("buff",t)}))},clearBuffs:function(){return _.map(this.hex.clearBuffs||[],(function(t){return m.Data.get("buff",t)}))},rewards:function(){return _.map(this.hex.rewards||[],(function(t){return _.extend(t,m.Data.get("items",t.id))}))},requireMapItems:function(){var t=[];return _.each(this.hex.requireMapItems||[],(function(e,i){e&&t.push({index:i,count:e})})),t}},methods:{rewardIconSrc:function(t){return 0==t.indexOf("chr4")?"../img/chara/"+t+".png":"../img/item/"+(t||"itm2_04_000_01")+".png"}}},P=(i(72),Object(p.a)(G,U,[],!1,null,"3f4b57b8",null).exports),z=i(73),R=i.n(z),O={props:{map:Object},mounted:function(t){console.log("map mounted");var e=this;this.$nextTick((function(){var t,i,a,s;t=function(t){var e=t.target,i=(parseFloat(e.getAttribute("data-x"))||0)+t.dx,a=(parseFloat(e.getAttribute("data-y"))||0)+t.dy;e.style.webkitTransform=e.style.transform="translate("+i+"px, "+a+"px)",e.setAttribute("data-x",i),e.setAttribute("data-y",a)},i=1,a=e.$el.children[0],s=e.$el.children[0].children[0],R()(a).gesturable({inertia:!0,modifiers:[R.a.modifiers.restrictRect({restriction:"parent",endOnly:!0})],onstart:function(t){},onmove:function(e){(i*=1+e.ds)<.4&&(i=.4),i>2&&(i=2),s.style.webkitTransform=s.style.transform="scale3d("+i+","+i+",1)",t(e)},onend:function(t){}}).draggable({inertia:!0,modifiers:[R.a.modifiers.restrictRect({restriction:"parent",endOnly:!0})],autoScroll:!0,onmove:t}).on("doubletap dblclick",(function(t){s.style.webkitTransform=s.style.transform="",t.preventDefault()})),a.addEventListener("wheel",(function(t){(i*=1-t.deltaY/1e3)<.6&&(i=.6),i>1&&(i=1),s.style.webkitTransform=s.style.transform="scale("+i+","+i+")"})),console.log("map interact inited"),this.moveToStart()}))},updated:function(){this.$nextTick((function(){this.moveToStart()}))},methods:{hex:function(t,e){return _.find(this.map.hexList,(function(i){return i.x==t&&i.y==e}))},moveToStart:function(){var t=this,e=_.find(t.map.hexList,(function(t){return 120==t.termType})),i=(t.$el.clientWidth,t.$el.children[0].clientWidth,t.$el.clientHeight,t.$el.children[0].clientHeight,parseInt(getComputedStyle(t.$el.children[0].children[0]).padding)),a=t.$el.querySelector("div.hex").parentNode,s=a.clientWidth,n=a.clientHeight,r=t.$el.clientWidth/2-((e.x-t.realMinX)*s+i+s/2),o=t.$el.clientHeight/2-((e.y-t.minY)*n+i+n/2+(e.x-t.minX+1)%2*n/2);console.log(e.x,t.minX,t.realMinX),console.log(r,o),t.$el.children[0].style.webkitTransform=t.$el.children[0].style.transform="translate("+r+"px, "+o+"px)",t.$el.children[0].setAttribute("data-x",r),t.$el.children[0].setAttribute("data-y",o)}},computed:{realMinX:function(){return _.minBy(this.map.hexList,(function(t){return t.x})).x},minX:function(){var t=this.realMinX;return t%2==1&&(t-=1),t},minY:function(){return _.minBy(this.map.hexList,(function(t){return t.y})).y},maxX:function(){return _.maxBy(this.map.hexList,(function(t){return t.x})).x},maxY:function(){return _.maxBy(this.map.hexList,(function(t){return t.y})).y},Xrange:function(){return _.range(this.minX,this.maxX+1)},Yrange:function(){return _.range(this.minY,this.maxY+1)}},components:{Hex:Z,HexInfo:B,HexPopper:P}},$=(i(74),{data:function(){return{isShowSidebar:!0,map:{id:"",hexList:[]}}},created:function(){var t=this;c.a.$on("render",(function(e){c.a.$emit("set-active-map",e),t.map=_.extend({},t.map,m.Data.get("maptable",e))})),c.a.$on("toggle-sidebar",(function(e){t.isShowSidebar="boolean"==typeof e?e:!t.isShowSidebar}))},computed:{mapName:function(){return this.map.name?this.map.hexList.length+"|"+this.map.name:""},total:function(){var t={danger:0,rare:0,normal:0,endless:0,gachaPoint:0,battery:0,gold:0,energy:0};return _.each(this.map.hexList,(function(e,i){switch(e.hexType){case 10:t.normal++;break;case 20:t.danger++;break;case 30:t.rare++;break;case 90:t.endless++}_.each(e.rewards,(function(e,i){"ticket_010_01"==e.id?t.battery+=e.count:"gacha_point"==e.id?t.gachaPoint+=e.count:"gold"==e.id?t.gold+=e.count:"energy"==e.id&&(t.energy+=e.count)}))})),t}},components:{MapInfo:y,MapList:M,Map:Object(p.a)(O,k,[],!1,null,"f8aa955a",null).exports}}),J=(i(75),{components:{Nav:h,Frontier:Object(p.a)($,g,[],!1,null,"6787a31b",null).exports}}),F=Object(p.a)(J,u,[],!1,null,null,null).exports,Y=function(t){r.a.start(),V(),r.a.set(.3),X(),r.a.set(.6),q(t),r.a.done()},V=function(){},X=function(){var t;E||(document.getElementsByTagName("body")[0].setAttribute("lang",l.a.getLang()),new o.a({el:"#app",render:function(t){return t("App")},components:{App:F}}),s()(window).resize((function(){clearTimeout(t),t=setTimeout(void 0,500)})),E=!0)},q=function(t){console.log("render",t);t&&(c.a.$emit("render",t),o.a.nextTick((function(){s()(".sidebar-toggle").is(":visible")&&c.a.$emit("toggle-sidebar",!1)})))};e.default={init:Y}}}]);